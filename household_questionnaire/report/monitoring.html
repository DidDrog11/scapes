<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Simons">

<title>Monitoring SCAPES progress and sampling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="monitoring_files/libs/clipboard/clipboard.min.js"></script>
<script src="monitoring_files/libs/quarto-html/quarto.js"></script>
<script src="monitoring_files/libs/quarto-html/popper.min.js"></script>
<script src="monitoring_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="monitoring_files/libs/quarto-html/anchor.min.js"></script>
<link href="monitoring_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="monitoring_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="monitoring_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="monitoring_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="monitoring_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#status" id="toc-status" class="nav-link active" data-scroll-target="#status">Status</a></li>
  <li><a href="#sample-characteristics" id="toc-sample-characteristics" class="nav-link" data-scroll-target="#sample-characteristics">Sample characteristics</a>
  <ul>
  <li><a href="#household-size" id="toc-household-size" class="nav-link" data-scroll-target="#household-size">Household size</a>
  <ul class="collapse">
  <li><a href="#distribution-of-household-sizes" id="toc-distribution-of-household-sizes" class="nav-link" data-scroll-target="#distribution-of-household-sizes">Distribution of household sizes</a></li>
  </ul></li>
  <li><a href="#sex" id="toc-sex" class="nav-link" data-scroll-target="#sex">Sex</a></li>
  <li><a href="#age" id="toc-age" class="nav-link" data-scroll-target="#age">Age</a>
  <ul class="collapse">
  <li><a href="#population-pyramid" id="toc-population-pyramid" class="nav-link" data-scroll-target="#population-pyramid">Population pyramid</a></li>
  </ul></li>
  <li><a href="#geographic" id="toc-geographic" class="nav-link" data-scroll-target="#geographic">Geographic</a></li>
  <li><a href="#occupation" id="toc-occupation" class="nav-link" data-scroll-target="#occupation">Occupation</a></li>
  <li><a href="#education" id="toc-education" class="nav-link" data-scroll-target="#education">Education</a></li>
  <li><a href="#socioeconomic" id="toc-socioeconomic" class="nav-link" data-scroll-target="#socioeconomic">Socioeconomic</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Monitoring SCAPES progress and sampling</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>David Simons </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="status" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="status">Status</h2>
<p>Data is being collected from 9 villages across 3 states. This document is to monitor sampling progress and assess the representativeness of our sampling within the villages. We do this by comparing to National and State level statistics. It may also be interesting to compare to data obtained as part of the LASV risk factor review.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display column-body">

<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-cc72590a1def3c783f00" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-cc72590a1def3c783f00">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9"],["zug","dye","iky","oki","oga","ofo","eze","eny","off"],["Zugu","Dyegh","Ikyogbakpev","Okimbongha","Ogamanna","Ofonekom","Ezeakataka","Enyandulogu","Offianka"],["Vande Ikya","Vande Ikya","Vande Ikya","Obubra","Obubra","Obubra","Izzi","Izzi","Izzi"],["Benue","Benue","Benue","Cross River","Cross River","Cross River","Ebonyi","Ebonyi","Ebonyi"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Abbreviation<\/th>\n      <th>Village<\/th>\n      <th>Lga<\/th>\n      <th>State<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"t","paging":false,"ordering":false,"searching":false,"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data, displayNum, displayIndex, dataIndex) {\nvar value=data[2]; $(this.api().cell(row, 2).node()).css({'font-weight':'bold','color':'white','background-color':value == \"Zugu\" ? \"#440154FF\" : value == \"Dyegh\" ? \"#472D7BFF\" : value == \"Ikyogbakpev\" ? \"#3B528BFF\" : value == \"Okimbongha\" ? \"#2C728EFF\" : value == \"Ogamanna\" ? \"#21908CFF\" : value == \"Ofonekom\" ? \"#27AD81FF\" : value == \"Ezeakataka\" ? \"#5DC863FF\" : value == \"Enyandulogu\" ? \"#AADC32FF\" : value == \"Offianka\" ? \"#FDE725FF\" : null,'zero-width':'TRUE'});\nvar value=data[4]; $(this.api().cell(row, 4).node()).css({'font-weight':'bold','color':'white','background-color':value == \"Benue\" ? \"#440154FF\" : value == \"Benue\" ? \"#440154FF\" : value == \"Benue\" ? \"#440154FF\" : value == \"Cross River\" ? \"#21908CFF\" : value == \"Cross River\" ? \"#21908CFF\" : value == \"Cross River\" ? \"#21908CFF\" : value == \"Ebonyi\" ? \"#FDE725FF\" : value == \"Ebonyi\" ? \"#FDE725FF\" : value == \"Ebonyi\" ? \"#FDE725FF\" : null,'zero-width':'TRUE'});\n}"},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
</div>
</div>
<p>129 households have currently been sampled between the period of 2023-12-08 and 2024-02-17. These households have been sampled in 3 village(s). These village(s) are Zugu - Benue, Dyegh - Benue, Ikyogbakpev - Benue.</p>
</section>
<section id="sample-characteristics" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sample-characteristics">Sample characteristics</h2>
<section id="household-size" class="level3">
<h3 class="anchored" data-anchor-id="household-size">Household size</h3>
<p>The sampled households include 937 individuals with a median of 7 individuals per household and an interquartile range (IQR) of 4. This is slightly higher than the mean number of household members reported in the Nigeria DHS 2018 report of 4.3 (urban) and 5 (rural), however, based on the reported summary statistics this is not normally distributed and so the median may be more similar. Further, there may be important heterogeneity by region in Nigeria. Primary data access to the DHS to allow better comparisons has been requested.</p>
<section id="distribution-of-household-sizes" class="level4">
<h4 class="anchored" data-anchor-id="distribution-of-household-sizes">Distribution of household sizes</h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/hh-size-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="sex" class="level3">
<h3 class="anchored" data-anchor-id="sex">Sex</h3>
<p>457 females (0.49) and 477 males (0.51) are permanently or temporarily resident within these households. This compares to a 1.06 male/female ratio at birth (CIA World Factbook) and data from the DHS 2018 which suggests that women are more likely to reside in rural (54.2%) than urban (45.8%) settings and more so than males (53.6% rural vs.&nbsp;46.4% urban).</p>
</section>
<section id="age" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="age">Age</h3>
<p>The sampled households have a median age of 17 (IQR = 24) which compares to a median age of 19.2 (CIA World Factbook). Females within the households sampled have a median age of 18 (IQR = 23) which compares to 19.4 for females from the CIA World Factbook. Males within sampled households have a median age of 15 (IQR = 25) which compares to 18.9 for males from the CIA world Factbook.</p>
<section id="population-pyramid" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="population-pyramid">Population pyramid</h4>
<div class="cell column-screen-inset-shaded quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="monitoring_files/figure-html/pop-figs-1.png" class="img-fluid"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="NI_popgraph2023.jpg" class="img-fluid"></p>
</div>
</div>
</div>
</section>
</section>
<section id="geographic" class="level3">
<h3 class="anchored" data-anchor-id="geographic">Geographic</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Zugu</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Dyegh</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Ikyogbakpev</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">Okimbongha</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false" href="">Ogamanna</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false" href="">Ofonekom</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-7" role="tab" aria-controls="tabset-1-7" aria-selected="false" href="">Ezeakataka</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-8" role="tab" aria-controls="tabset-1-8" aria-selected="false" href="">Enyandulogu</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-9" role="tab" aria-controls="tabset-1-9" aria-selected="false" href="">Offianka</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>52 households have been sampled. 447 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/zugu-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 8%">
<col style="width: 25%">
<col style="width: 23%">
<col style="width: 20%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Zugu</td>
<td style="text-align: right;">447</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">4.84</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>0 households have been sampled. 565 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dyegh-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 8%">
<col style="width: 25%">
<col style="width: 23%">
<col style="width: 20%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dyegh</td>
<td style="text-align: right;">565</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>0 households have been sampled. 697 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/ikyogbakpev-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 12%">
<col style="width: 24%">
<col style="width: 22%">
<col style="width: 19%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ikyogbakpev</td>
<td style="text-align: right;">697</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p>0 households have been sampled. 67 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/okimbongha-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 11%">
<col style="width: 24%">
<col style="width: 22%">
<col style="width: 19%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Okimbongha</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<p>0 households have been sampled. 217 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/ogamanna-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 9%">
<col style="width: 25%">
<col style="width: 23%">
<col style="width: 19%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ogamanna</td>
<td style="text-align: right;">217</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<p>0 households have been sampled. 201 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/ofonekom-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 9%">
<col style="width: 25%">
<col style="width: 23%">
<col style="width: 19%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ofonekom</td>
<td style="text-align: right;">201</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-7-tab">
<p>0 households have been sampled. 241 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/ezeakataka-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 11%">
<col style="width: 24%">
<col style="width: 22%">
<col style="width: 19%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ezeakataka</td>
<td style="text-align: right;">241</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-8-tab">
<p>0 households have been sampled. 184 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/enyandulogu-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 12%">
<col style="width: 24%">
<col style="width: 22%">
<col style="width: 19%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Enyandulogu</td>
<td style="text-align: right;">184</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="tabset-1-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-9-tab">
<p>0 households have been sampled. 366 buildings have been identified within the village.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/offianka-sampling-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 9%">
<col style="width: 25%">
<col style="width: 23%">
<col style="width: 19%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">village</th>
<th style="text-align: right;">n_buildings_identified</th>
<th style="text-align: right;">n_households_sampled</th>
<th style="text-align: right;">prop_of_buildings</th>
<th style="text-align: right;">weighted_sum_sample</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Offianka</td>
<td style="text-align: right;">366</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="occupation" class="level3">
<h3 class="anchored" data-anchor-id="occupation">Occupation</h3>
<p>Occupation as a measure of representativeness will be assessed comparing the individual level surveys with data obtained from the DHS 2018. Comparisons will be made to State level and State stratified by urban/rural. Matching between our survey and DHS classifications for occupation will be limited by the level of detail provided in the DHS. The DHS has been conducted in Females aged 15-49 and Males aged 15-59.</p>
<table class="table">
<colgroup>
<col style="width: 27%">
<col style="width: 27%">
<col style="width: 27%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Individual questionnaire</th>
<th>DHS 2018</th>
<th>ISCO-08</th>
<th>ISCO-08 code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Farming</td>
<td>Agriculture/Agricultural - self employed</td>
<td>Field Crop and Vegetable Growers</td>
<td>6111</td>
</tr>
<tr class="even">
<td>Assist with agricultural work (in household fields)</td>
<td>Agriculture/Agricultural - self employed</td>
<td>Subsistence Crop Farmers</td>
<td>631</td>
</tr>
<tr class="odd">
<td>Assist with agricultural work (in other households fields)</td>
<td>Agriculture/Agricultural - self employed</td>
<td>Subsistence Crop Farmers</td>
<td>631</td>
</tr>
<tr class="even">
<td>Hunter/Trapper</td>
<td>Agriculture/Agricultural - self employed</td>
<td>Subsistence Farmers, Fishers, Hunters and Gatherers</td>
<td>6340</td>
</tr>
<tr class="odd">
<td>Fishing</td>
<td>Agriculture/Agricultural - self employed</td>
<td>Subsistence Farmers, Fishers, Hunters and Gatherers</td>
<td>6340</td>
</tr>
<tr class="even">
<td>Timber</td>
<td>Agriculture/Agricultural - self employed</td>
<td>Subsistence Farmers, Fishers, Hunters and Gatherers</td>
<td>6340</td>
</tr>
<tr class="odd">
<td>Collect forest goods (NTFPs)</td>
<td>Agriculture/Agricultural - self employed</td>
<td>Subsistence Fishers, Hunters, Trappers and Gatherers</td>
<td>6340</td>
</tr>
<tr class="even">
<td>Animal husbandry</td>
<td>Agriculture/Agricultural - self employed</td>
<td>Subsistence Livestock Farmers</td>
<td>6320</td>
</tr>
<tr class="odd">
<td>Trader</td>
<td>Sales</td>
<td>Street and Related Sales and Service Workers</td>
<td>95</td>
</tr>
<tr class="even">
<td>Artisan/Handiwork/Carpenter</td>
<td>Skilled manual</td>
<td>Craft and Related Trades Workers</td>
<td>7</td>
</tr>
<tr class="odd">
<td>Driver</td>
<td>Other</td>
<td>Car, Van and Motorcycle Drivers</td>
<td>832</td>
</tr>
<tr class="even">
<td>Teacher</td>
<td>Professional/technical/managerial</td>
<td>Teaching Professionals</td>
<td>23</td>
</tr>
<tr class="odd">
<td>Clergy (minister, pastor)</td>
<td>Professional/technical/managerial</td>
<td>Social and Religious Professionals</td>
<td>263</td>
</tr>
<tr class="even">
<td>Student</td>
<td>Not working/NA/Did not work</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>Government worker</td>
<td>Clerical/Professional/technical/managerial</td>
<td>Business and Administration Associate Professionals</td>
<td>33</td>
</tr>
<tr class="even">
<td>Pensioner</td>
<td>Not working/NA/Did not work</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr class="odd">
<td>Other</td>
<td>Unskilled manual/Services</td>
<td>Elementary Occupations</td>
<td>9</td>
</tr>
</tbody>
</table>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Benue</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Cross River</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Ebonyi</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href="">Nigeria</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>DHS sample: N = 1,634 (Female = 1,278; Male = 356), median age = 28 (Female = 27, Male = 32).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-occupation-benue-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-occupation-benue-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>DHS sample: N = 949 (Female = 748; Male = 201), median age = 31 (Female = 30, Male = 34).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-occupation-cross-river-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-occupation-cross-river-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>DHS sample: N = 1,666 (Female = 1,310; Male = 356), median age = 31 (Female = 29, Male = 37).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-occupation-ebonyi-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-occupation-ebonyi-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p>DHS sample: N = 55,132 (Female = 41,821; Male = 13,331), median age = 29 (Female = 28, Male = 32).</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-occupation-nigeria-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-occupation-nigeria-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="education" class="level3">
<h3 class="anchored" data-anchor-id="education">Education</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">Benue</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">Cross River</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false" href="">Ebonyi</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false" href="">Nigeria</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-education-benue-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-education-benue-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-education-cross-river-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-education-cross-river-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-education-ebonyi-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-education-ebonyi-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-education-nigeria-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="monitoring_files/figure-html/dhs-education-nigeria-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="socioeconomic" class="level3">
<h3 class="anchored" data-anchor-id="socioeconomic">Socioeconomic</h3>
<p>This section will contain a comparison of household wealth and perhaps household building structures. 
<script type="application/shiny-prerendered" data-context="server-start">
if (!requireNamespace("cowplot", quietly = TRUE)) install.packages("cowplot")
if (!requireNamespace("DT", quietly = TRUE)) install.packages("DT")
if (!requireNamespace("ggrepel", quietly = TRUE)) install.packages("ggrepel")
if (!requireNamespace("ggspatial", quietly = TRUE)) install.packages("ggspatial")
if (!requireNamespace("gratia", quietly = TRUE)) install.packages("gratia")
if (!requireNamespace("haven", quietly = TRUE)) install.packages("haven")
if (!requireNamespace("here", quietly = TRUE)) install.packages("here")
if (!requireNamespace("jpeg", quietly = TRUE)) install.packages("jpeg")
if (!requireNamespace("knitr", quietly = TRUE)) install.packages("knitr")
if (!requireNamespace("sf", quietly = TRUE)) install.packages("sf")
if (!requireNamespace("terra", quietly = TRUE)) install.packages("terra")
if (!requireNamespace("tidyverse", quietly = TRUE)) install.packages("tidyverse")
if (!requireNamespace("tidyterra", quietly = TRUE)) install.packages("tidyterra")
if (!requireNamespace("units", quietly = TRUE)) install.packages("units")

library(cowplot)
library(DT)
library(ggrepel)
library(ggspatial)
library(gratia)
library(haven)
library(here)
library(jpeg)
library(knitr)
library(sf)
library(terra)
library(tidyverse)
library(tidyterra)
library(units)

knitr::opts_chunk$set(message = FALSE)

project_CRS = "EPSG:4326"
utm_nigeria_CRS = "EPSG:26332"

village_state <- read_rds(here("project_wide_data", "village_state.rds"))
hh_df <- read_rds(here("household_questionnaire", "data", "h_data", "hh_df_list_cleaned.rds"))
hh_df$household_demographics <- zap_label(hh_df$household_demographics)
village_colours <- read_rds(here("project_wide_data", "village_colours.rds"))

</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(function(q, nm, val) {
    # Infer name, if possible
    if (nm == "") {
      tryCatch({
        nm <- rlang::as_name(q)
      }, error = function(e) {
        code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
        stop("ojs_define() could not create a name for the argument: ", code)
      })
    }
    .session$output[[nm]] <- val
    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
    .session$sendCustomMessage("ojs-export", list(name = nm))
    NULL
  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)
  invisible()
}
</script>
</p>
<!--html_preserve-->

<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.6.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.6.2"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["datatables-css"]},{"type":"character","attributes":{},"value":["0.0.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/css"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["datatables-crosstalk.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["DT"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.27"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["datatables-binding"]},{"type":"character","attributes":{},"value":["0.27"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["datatables.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["DT"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.27"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.1.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["dt-core"]},{"type":"character","attributes":{},"value":["1.12.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets/lib/datatables"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/jquery.dataTables.min.js"]},{"type":"character","attributes":{},"value":["css/jquery.dataTables.min.css","css/jquery.dataTables.extra.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["DT"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["0.27"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"character","attributes":{},"value":["1.2.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/crosstalk.min.js"]},{"type":"character","attributes":{},"value":["css/crosstalk.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["crosstalk"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.2.0"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->

<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117]}},"value":[{"type":"character","attributes":{},"value":["base","boot","bslib","cachem","class","classInt","cli","codetools","colorspace","compiler","cowplot","crosstalk","datasets","DBI","digest","doParallel","dplyr","DT","e1071","ellipsis","evaluate","fansi","farver","fastmap","forcats","foreach","gamm4","generics","GGally","ggplot2","ggrepel","ggspatial","glue","graphics","gratia","grDevices","grid","gridExtra","gtable","haven","here","hms","htmltools","htmlwidgets","httpuv","isoband","iterators","jpeg","jquerylib","jsonlite","KernSmooth","knitr","labeling","later","lattice","lifecycle","lme4","lubridate","magrittr","MASS","Matrix","matrixStats","methods","mgcv","mgcViz","mime","miniUI","minqa","munsell","mvnfast","nlme","nloptr","parallel","patchwork","pillar","pkgconfig","plyr","promises","proxy","purrr","qgam","R6","RColorBrewer","Rcpp","readr","reshape","rlang","rmarkdown","rprojroot","rstudioapi","sass","scales","sf","shiny","splines","stats","stringi","stringr","terra","tibble","tidyr","tidyselect","tidyterra","tidyverse","timechange","tools","tzdb","units","utf8","utils","vctrs","viridis","viridisLite","withr","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["4.2.3","1.3-28.1","0.5.0","1.0.8","7.3-21","0.4-9","3.6.2","0.2-19","2.1-0","4.2.3","1.1.1","1.2.0","4.2.3","1.1.3","0.6.31","1.0.17","1.1.4","0.27","1.7-13","0.3.2","0.21","1.0.6","2.1.1","1.1.1","1.0.0","1.5.2","0.2-6","0.1.3","2.1.2","3.4.2","0.9.3","1.1.8","1.6.2","4.2.3","0.8.1","4.2.3","4.2.3","2.3","0.3.3","2.5.4","1.0.1","1.1.3","0.5.4","1.6.2","1.6.9","0.2.7","1.0.14","0.1-10","0.1.4","1.8.8","2.23-20","1.45","0.4.2","1.3.0","0.20-45","1.0.4","1.1-32","1.9.2","2.0.3","7.3-58.3","1.5-3","0.63.0","4.2.3","1.8-42","0.1.9","0.12","0.1.1.1","1.2.5","0.5.0","0.2.8","3.1-162","2.0.3","4.2.3","1.1.2","1.9.0","2.0.3","1.8.8","1.2.0.1","0.4-27","1.0.2","1.3.4","2.5.1","1.1-3","1.0.11","2.1.4","0.8.9","1.1.2","2.23","2.0.3","0.14","0.4.6","1.2.1","1.0-12","1.7.4","4.2.3","4.2.3","1.8.3","1.5.1","1.7-46","3.2.1","1.3.0","1.2.0","0.5.0","2.0.0","0.2.0","4.2.3","0.4.0","0.8-1","1.2.4","4.2.3","0.6.5","0.6.2","0.4.2","2.5.2","0.39","1.8-4","2.3.7"]}]}]}
</script>
<!--/html_preserve-->
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>